<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Python Source Browser</title>
  </head>
  <body>
    <script src="/static/js/lib/jquery-2.1.4.min.js"></script>
    <link rel="stylesheet" href="/static/css/jstree/style.min.css" />
    <script src="/static/js/lib/jstree.min.js"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/static/css/bootstrap.min.css">
    <link rel="stylesheet" href="/static/css/bootstrap-theme.min.css">
    <script src="/static/js/lib/bootstrap.min.js"></script>
    <script src="/static/js/lib/knockout-3.3.0.js"></script>
    <link rel="stylesheet" href="/static/css/pastie.css" />
    <link rel="stylesheet" href="/static/css/psb.css">

    <div id="left-column" class="nav nav-tabs">
      <ul class="nav nav-tabs" role="tablist" id="myTab">
        <li role="presentation" class="active">
          <a id="directory-btn" href="#directory" aria-controls="directory" role="tab" data-toggle="tab">
            Directory Tree
          </a>
        </li>
        <li role="presentation">
          <a id="nav-stack-btn" href="#nav-stack" aria-controls="nav-stack" role="tab" data-toggle="tab">
            Nav Stack
          </a>
        </li>
        <li role="presentation">
          <a href="#search" aria-controls="search" role="tab" data-toggle="tab">
            Search
          </a>
        </li>
      </ul>

      <div class="tab-content">
        <div role="tabpanel" class="tab-pane active" id="directory">
          <div id="directory-content"></div>
        </div>
        <div role="tabpanel" class="tab-pane" id="nav-stack">
          <div data-bind="template: {
                          name: 'nav-frame',
                          foreach: navStack,
                          afterAdd: setupNewFrame}">
          </div>
        </div>
        <div role="tabpanel" class="tab-pane" id="search">
          <div><span data-bind="text: searchTerm"></span></div>
          <div data-bind="foreach: searchResults">
            <span data-bind="text: location"></span>
            <span data-bind="text: code"></span>
          </div>
        </div>
      </div>
    </div>

    <div id="right-column">
      <pre id="main-source" data-bind="viewFrame: currentFrame" class="highlight"></pre>
    </div>

    <script type="text/html" id="nav-frame"><div class="nav-frame" data-bind="css: {'active-frame': isCurrentFrame}">
        <div class="frame-title">
          <span data-bind="text: symbol"></span>
          @
          <span data-bind="text: realFileName"></span>
          <div class="frame-action-btns">
            <span class="glyphicon glyphicon-pencil"
                  data-bind="click: editNote, style: {color: editingStatus}, visible: symbol"></span>
            <span data-bind="click: $root.deleteFrame" class="glyphicon glyphicon-eject"></span>
          </div>
        </div>
        <div class="noteEditor" data-bind="visible: showNoteEditor">
          <input type="text" placeholder="Add your one line note here. (Enter to save)"
                 data-bind="textInput: editingNote, hasFocus: showNoteEditor, enter: saveEdit">
          (Enter to save, Tab to cancel)
        </div>
        <pre data-bind="html: excerpt" class="highlight"></pre>
    </div></script>

    <script src="static/js/ko_viewFrame.js"></script>
    <script src="static/js/ko_enter.js"></script>
    <script src="static/js/psb.js"></script>
  </body>
</html>
